# docker/requirements-core.txt
# Merged dependencies for mcn-core container (Middleware + BettaFish)
# CPU-only torch to save ~3GB image size

# 1. Critical: CPU Torch (Saves ~3GB image size)
--extra-index-url https://download.pytorch.org/whl/cpu
torch>=2.1.2
torchvision

# 2. Core Frameworks (FastAPI for Middleware, Flask for BettaFish legacy)
fastapi>=0.110.0
uvicorn[standard]>=0.29.0
flask>=2.3.0
pydantic>=2.0
pydantic-settings>=2.0

# 3. Database & Cache
redis>=4.6.0
pymysql>=1.1.0
aiomysql>=0.2.0
asyncpg>=0.29.0
SQLAlchemy>=2.0.0
aiosqlite>=0.21.0

# 4. HTTP & Networking
requests>=2.31.0
httpx>=0.28.0
aiohttp>=3.8.0
websocket-client

# 5. AI/ML (BettaFish engines)
transformers>=4.30.0
sentence-transformers>=2.2.2
openai>=1.3.0
mem0ai

# 6. PDF & Document Processing (WeasyPrint for ReportEngine)
weasyprint>=60.0
playwright

# 7. Data Processing
pandas>=2.0.0
numpy>=1.24.0
jieba>=0.42.1
regex>=2023.8.8

# 8. Visualization (BettaFish reports)
plotly>=5.17.0
matplotlib>=3.9.0

# 9. Utilities
python-dotenv>=1.0.0
loguru>=0.7.0
tenacity>=8.2.0
tqdm>=4.65.0
Pillow>=9.5.0

# 10. Sanity & External APIs
tavily-python>=0.3.0
qdrant-client>=1.7.0
feedparser>=6.0.0

# 11. GPU Management (GPU Manager V2)
nvidia-ml-py>=12.560.30
docker>=6.0.0
